@import "./variables.scss";
@import "./mixins.scss";

/**
* Carousel layering (zIndexes) note:
* SVG Path is -2, rolling item is -1, gsap flip active (in TS Code) item is 1 and anchor is 2.
*/
.rolling-carousel {
  position: relative;
  width: 48.611vw;
  height: 48.611vw;
  margin: 8.333vw 0;

  & > svg {
    height: 100%;
    width: 100%;
    z-index: -2;
    position: relative;
  }

  &--left {
    // Layout padding left + required margin shift
    margin-left: -(calc(3.472vw + 6.25vw));
  }

  &__item {
    opacity: 0;
    position: relative;
    @include absolute-center;
    scale: 0.12;
    z-index: -1;

    img {
      opacity: 0;
      will-change: opacity;
    }

    &__content {
      @include absolute-center;
    }
  }

  &__layout {
    @include absolute-center;

    &__item-container {
      border: 0.65vw solid $gray-dark;
      border-radius: 5vw;
      height: 100%;
      width: 100%;
      overflow: hidden;
      background: $base-black;
    }

    img {
      object-fit: cover;
      height: 100%;
      width: 100%;
      display: block;
    }

    &--one {
      width: 50vw;
      height: 30vw;
    }

    &--two {
      .graphic--0 {
        width: 20vw;
        height: 30vw;
        top: -10vw;
        left: 20vw;
        z-index: 2;
        position: absolute;
      }

      .graphic--1 {
        width: 40vw;
        height: 30vw;
        margin-left: -10vw;
      }
    }

    &--three {
      height: 40vw;
      width: 50vw;
      display: flex;
      margin-left: 10vw;
      gap: 1vw;

      .graphic--1 {
        margin-top: -2vw;
      }

      .graphic--2 {
        margin-top: -4vw;
      }
    }

    &--four {
      width: 40vw;
      height: 40vw;

      .graphic--0 {
        width: 100%;
        height: 25vw;
      }

      .graphic--1 {
        width: 20vw;
        height: 20vw;
        top: -7vw;
        left: 30vw;
        z-index: 2;
        position: absolute;
      }

      .graphic--2 {
        width: 20vw;
        height: 20vw;
        top: 27vw;
        left: 10vw;
        position: absolute;
      }

      .graphic--3 {
        position: absolute;
        width: 10vw;
        height: 10vw;
        border-radius: 2vw;
        position: absolute;
        top: 20vw;
        left: 40vw;
      }
    }
  }

  &__anchor {
    @include absolute-center;
    z-index: 2;

    & > * {
      @include absolute-center;
    }

    // Styles within Anchor represent the active state
    .rolling-carousel__layout {
      &__item-container {
        border-color: transparent;
      }
    }
  }
}

.slides {
  &__item {
    height: 100dvh;
    min-height: 500px;
    display: flex;
    max-width: 44.444vw;
    margin: auto;
    flex-direction: column;
    justify-content: center;
    gap: 1.111vw;
  }
}
